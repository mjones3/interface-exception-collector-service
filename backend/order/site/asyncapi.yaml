{
  "asyncapi": "3.0.0",
  "info": {
    "title": "order-service",
    "version": "0.0.1",
    "x-generator": "springwolf"
  },
  "defaultContentType": "application/json",
  "servers": {
    "kafka": {
      "host": "localhost:29092",
      "protocol": "kafka"
    }
  },
  "channels": {
    "OrderCancelled": {
      "address": "OrderCancelled",
      "messages": {
        "OrderCancelled": {
          "$ref": "#/components/messages/OrderCancelled"
        }
      }
    },
    "OrderRejected": {
      "address": "OrderRejected",
      "messages": {
        "OrderRejected": {
          "$ref": "#/components/messages/OrderRejected"
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Headers-1611396750": {
        "title": "Headers-1611396750",
        "type": "object",
        "properties": {
          "__TypeId__": {
            "type": "string",
            "description": "Spring Type Id Header",
            "enum": [
              "com.arcone.biopro.distribution.order.infrastructure.event.OrderRejectedOutputEvent"
            ],
            "examples": [
              "com.arcone.biopro.distribution.order.infrastructure.event.OrderRejectedOutputEvent"
            ]
          }
        },
        "examples": [
          {
            "__TypeId__": "com.arcone.biopro.distribution.order.infrastructure.event.OrderRejectedOutputEvent"
          }
        ]
      },
      "Headers-842767543": {
        "title": "Headers-842767543",
        "type": "object",
        "properties": {
          "__TypeId__": {
            "type": "string",
            "description": "Spring Type Id Header",
            "enum": [
              "com.arcone.biopro.distribution.order.infrastructure.event.OrderCancelledOutputEvent"
            ],
            "examples": [
              "com.arcone.biopro.distribution.order.infrastructure.event.OrderCancelledOutputEvent"
            ]
          }
        },
        "examples": [
          {
            "__TypeId__": "com.arcone.biopro.distribution.order.infrastructure.event.OrderCancelledOutputEvent"
          }
        ]
      },
      "OrderCancelled": {
        "title": "OrderCancelled",
        "type": "object",
        "properties": {
          "eventId": {
            "title": "Event ID",
            "type": "string",
            "description": "The event ID",
            "format": "uuid",
            "examples": [
              "ae94cf69-6863-4c26-ad34-99347a9a4c8a"
            ]
          },
          "eventType": {
            "title": "Event Type",
            "type": "string",
            "description": "The event type",
            "examples": [
              "CollectionReceived"
            ]
          },
          "eventVersion": {
            "title": "Event Version",
            "type": "string",
            "description": "The event version",
            "examples": [
              "1.0"
            ]
          },
          "occurredOn": {
            "title": "Occurred On",
            "type": "string",
            "description": "When the event occurred",
            "format": "date-time",
            "examples": [
              "2024-10-07T20:59:16.925110827Z"
            ]
          },
          "payload": {
            "$ref": "#/components/schemas/OrderCancelledPayload"
          }
        },
        "description": "Order Cancelled Event",
        "examples": [
          {
            "eventId": "ae94cf69-6863-4c26-ad34-99347a9a4c8a",
            "eventType": "CollectionReceived",
            "eventVersion": "1.0",
            "occurredOn": "2024-10-07T20:59:16.925110827Z",
            "payload": {
              "billingCustomerCode": "ABC123",
              "cancelDate": "2024-10-03T15:44:42.328889299Z",
              "cancelEmployeeId": "10",
              "cancelReason": "4c973896-5761-41fc-8217-07c5d13a004b",
              "comments": "Please delivery ASAP",
              "createDate": "2024-10-03T15:44:42.328889299Z",
              "createEmployeeCode": "4c973896-5761-41fc-8217-07c5d13a004b",
              "desiredShippingDate": "2024-10-02",
              "externalId": "ABC56865",
              "locationCode": "123456789",
              "orderItems": [
                {
                  "bloodType": "AB",
                  "comments": "Please send short dated",
                  "productFamily": "WHOLE_BLOOD",
                  "quantity": 10,
                  "quantityRemaining": 10,
                  "quantityShipped": 10
                }
              ],
              "orderNumber": 153,
              "orderStatus": "OPEN",
              "priority": "ASAP",
              "productCategory": "FROZEN",
              "shipmentType": "CUSTOMER",
              "shippingCustomerCode": "ABC123",
              "shippingMethod": "FEDEX",
              "totalProducts": 10,
              "totalRemaining": 10,
              "totalShipped": 10,
              "willPickUp": false,
              "willPickUpPhoneNumber": "12333333"
            }
          }
        ],
        "required": [
          "eventId",
          "eventType",
          "eventVersion",
          "occurredOn",
          "payload"
        ]
      },
      "OrderCancelledPayload": {
        "title": "OrderCancelledPayload",
        "type": "object",
        "properties": {
          "billingCustomerCode": {
            "title": "Billing Customer Code",
            "type": "string",
            "description": "The billing customer code",
            "examples": [
              "ABC123"
            ]
          },
          "cancelDate": {
            "title": "Cancel Date",
            "type": "string",
            "description": "The date order was cancelled",
            "format": "date-time",
            "examples": [
              "2024-10-03T15:44:42.328889299Z"
            ]
          },
          "cancelEmployeeId": {
            "title": "Cancel Employee ID",
            "type": "string",
            "description": "The employee ID of the employee that cancelled the order",
            "examples": [
              "10"
            ]
          },
          "cancelReason": {
            "title": "Cancel Reason",
            "type": "string",
            "description": "The reason of cancelling the order",
            "examples": [
              "4c973896-5761-41fc-8217-07c5d13a004b"
            ]
          },
          "comments": {
            "title": "Comments",
            "type": "string",
            "description": "The comments",
            "examples": [
              "Please delivery ASAP"
            ]
          },
          "createDate": {
            "title": "Create date",
            "type": "string",
            "description": "The date order was created",
            "format": "date-time",
            "examples": [
              "2024-10-03T15:44:42.328889299Z"
            ]
          },
          "createEmployeeCode": {
            "title": "Create Employee Code",
            "type": "string",
            "description": "The employee ID that created the order",
            "examples": [
              "4c973896-5761-41fc-8217-07c5d13a004b"
            ]
          },
          "desiredShippingDate": {
            "title": "Desire Shipping Date",
            "type": "string",
            "description": "The desire shipping date",
            "format": "date",
            "examples": [
              "2024-10-03T00:00:00.000+00:00"
            ]
          },
          "externalId": {
            "title": "External Order ID",
            "type": "string",
            "description": "The external order ID",
            "examples": [
              "ABC56865"
            ]
          },
          "locationCode": {
            "title": "Location Code",
            "type": "string",
            "description": "The location code",
            "examples": [
              "123456789"
            ]
          },
          "orderItems": {
            "title": "Order Items",
            "type": "array",
            "description": "The list of product criteria for the order",
            "items": {
              "$ref": "#/components/schemas/OrderItemCancelled"
            }
          },
          "orderNumber": {
            "title": "Order ID",
            "type": "integer",
            "description": "The order ID",
            "format": "int64",
            "examples": [
              153
            ]
          },
          "orderStatus": {
            "title": "Order Status",
            "type": "string",
            "description": "The order status",
            "examples": [
              "OPEN"
            ]
          },
          "priority": {
            "title": "Priority",
            "type": "string",
            "description": "The order priority",
            "examples": [
              "ASAP"
            ]
          },
          "productCategory": {
            "title": "Product Category",
            "type": "string",
            "description": "The product category",
            "examples": [
              "FROZEN"
            ]
          },
          "shipmentType": {
            "title": "Shipment Type",
            "type": "string",
            "description": "The shipment type",
            "examples": [
              "CUSTOMER"
            ]
          },
          "shippingCustomerCode": {
            "title": "Shipping Customer Code",
            "type": "string",
            "description": "The shipping customer code",
            "examples": [
              "ABC123"
            ]
          },
          "shippingMethod": {
            "title": "Shipping Method",
            "type": "string",
            "description": "The shipping method",
            "examples": [
              "FEDEX"
            ]
          },
          "totalProducts": {
            "title": "Total Products",
            "type": "integer",
            "description": "The total of requested products",
            "format": "int32",
            "examples": [
              10
            ]
          },
          "totalRemaining": {
            "title": "Total Remaining",
            "type": "integer",
            "description": "The total of remaining products",
            "format": "int32",
            "examples": [
              10
            ]
          },
          "totalShipped": {
            "title": "Total Shipped",
            "type": "integer",
            "description": "The total of shipped products",
            "format": "int32",
            "examples": [
              10
            ]
          },
          "willPickUp": {
            "title": "Will Pick UP",
            "type": "boolean",
            "description": "The will pick up",
            "examples": [
              false
            ]
          },
          "willPickUpPhoneNumber": {
            "title": "Will Pick UP Phone Number",
            "type": "string",
            "description": "The will pick up phone number",
            "examples": [
              "12333333"
            ]
          }
        },
        "description": "Order Cancelled Event Payload",
        "examples": [
          {
            "billingCustomerCode": "ABC123",
            "cancelDate": "2024-10-03T15:44:42.328889299Z",
            "cancelEmployeeId": "10",
            "cancelReason": "4c973896-5761-41fc-8217-07c5d13a004b",
            "comments": "Please delivery ASAP",
            "createDate": "2024-10-03T15:44:42.328889299Z",
            "createEmployeeCode": "4c973896-5761-41fc-8217-07c5d13a004b",
            "desiredShippingDate": "2024-10-02",
            "externalId": "ABC56865",
            "locationCode": "123456789",
            "orderItems": [
              {
                "bloodType": "AB",
                "comments": "Please send short dated",
                "productFamily": "WHOLE_BLOOD",
                "quantity": 10,
                "quantityRemaining": 10,
                "quantityShipped": 10
              }
            ],
            "orderNumber": 153,
            "orderStatus": "OPEN",
            "priority": "ASAP",
            "productCategory": "FROZEN",
            "shipmentType": "CUSTOMER",
            "shippingCustomerCode": "ABC123",
            "shippingMethod": "FEDEX",
            "totalProducts": 10,
            "totalRemaining": 10,
            "totalShipped": 10,
            "willPickUp": false,
            "willPickUpPhoneNumber": "12333333"
          }
        ],
        "required": [
          "billingCustomerCode",
          "cancelDate",
          "cancelEmployeeId",
          "cancelReason",
          "createDate",
          "createEmployeeCode",
          "externalId",
          "locationCode",
          "orderItems",
          "orderNumber",
          "orderStatus",
          "priority",
          "productCategory",
          "shipmentType",
          "shippingCustomerCode",
          "shippingMethod",
          "willPickUp"
        ]
      },
      "OrderItemCancelled": {
        "title": "OrderItemCancelled",
        "type": "object",
        "properties": {
          "bloodType": {
            "title": "Blood Type",
            "type": "string",
            "description": "The blood type",
            "examples": [
              "AB"
            ]
          },
          "comments": {
            "title": "Comments",
            "type": "string",
            "description": "The comments",
            "examples": [
              "Please send short dated"
            ]
          },
          "productFamily": {
            "title": "Product Family",
            "type": "string",
            "description": "The product family",
            "examples": [
              "WHOLE_BLOOD"
            ]
          },
          "quantity": {
            "title": "Quantity",
            "type": "integer",
            "description": "The quantity",
            "format": "int32",
            "examples": [
              10
            ]
          },
          "quantityRemaining": {
            "title": "Quantity Remaining",
            "type": "integer",
            "description": "The quantity remaining",
            "format": "int32",
            "examples": [
              10
            ]
          },
          "quantityShipped": {
            "title": "Quantity Shipped",
            "type": "integer",
            "description": "The quantity shipped",
            "format": "int32",
            "examples": [
              10
            ]
          }
        },
        "description": "Order Item cancelled",
        "examples": [
          {
            "bloodType": "AB",
            "comments": "Please send short dated",
            "productFamily": "WHOLE_BLOOD",
            "quantity": 10,
            "quantityRemaining": 10,
            "quantityShipped": 10
          }
        ],
        "required": [
          "bloodType",
          "productFamily",
          "quantity",
          "quantityRemaining",
          "quantityShipped"
        ]
      },
      "OrderRejected": {
        "title": "OrderRejected",
        "type": "object",
        "properties": {
          "eventId": {
            "title": "Event ID",
            "type": "string",
            "description": "The event ID",
            "format": "uuid",
            "examples": [
              "ae94cf69-6863-4c26-ad34-99347a9a4c8a"
            ]
          },
          "eventType": {
            "title": "Event Type",
            "type": "string",
            "description": "The event type",
            "examples": [
              "CollectionReceived"
            ]
          },
          "eventVersion": {
            "title": "Event Version",
            "type": "string",
            "description": "The event version",
            "examples": [
              "1.0"
            ]
          },
          "occurredOn": {
            "title": "Occurred On",
            "type": "string",
            "description": "When the event occurred",
            "format": "date-time",
            "examples": [
              "2024-10-07T20:59:16.925110827Z"
            ]
          },
          "payload": {
            "$ref": "#/components/schemas/OrderRejectedPayload"
          }
        },
        "description": "Order Rejected Event",
        "examples": [
          {
            "eventId": "ae94cf69-6863-4c26-ad34-99347a9a4c8a",
            "eventType": "CollectionReceived",
            "eventVersion": "1.0",
            "occurredOn": "2024-10-07T20:59:16.925110827Z",
            "payload": {
              "externalId": "ABC56865",
              "rejectedReason": "Order already exists"
            }
          }
        ],
        "required": [
          "eventId",
          "eventType",
          "eventVersion",
          "occurredOn",
          "payload"
        ]
      },
      "OrderRejectedPayload": {
        "title": "OrderRejectedPayload",
        "type": "object",
        "properties": {
          "externalId": {
            "title": "External Order ID",
            "type": "string",
            "description": "The external order ID",
            "examples": [
              "ABC56865"
            ]
          },
          "rejectedReason": {
            "title": "Rejected Reason",
            "type": "string",
            "description": "The rejected reason",
            "examples": [
              "Order already exists"
            ]
          }
        },
        "description": "Order Rejected Event Payload",
        "examples": [
          {
            "externalId": "ABC56865",
            "rejectedReason": "Order already exists"
          }
        ],
        "required": [
          "externalId",
          "rejectedReason"
        ]
      }
    },
    "messages": {
      "OrderCancelled": {
        "headers": {
          "$ref": "#/components/schemas/Headers-842767543"
        },
        "payload": {
          "schemaFormat": "application/vnd.aai.asyncapi+json;version=3.0.0",
          "schema": {
            "$ref": "#/components/schemas/OrderCancelled"
          }
        },
        "name": "OrderCancelled",
        "title": "OrderCancelled",
        "description": "Order Cancelled Event",
        "bindings": {
          "kafka": {
            "bindingVersion": "0.5.0"
          }
        }
      },
      "OrderRejected": {
        "headers": {
          "$ref": "#/components/schemas/Headers-1611396750"
        },
        "payload": {
          "schemaFormat": "application/vnd.aai.asyncapi+json;version=3.0.0",
          "schema": {
            "$ref": "#/components/schemas/OrderRejected"
          }
        },
        "name": "OrderRejected",
        "title": "OrderRejected",
        "description": "Order Rejected Event",
        "bindings": {
          "kafka": {
            "bindingVersion": "0.5.0"
          }
        }
      }
    }
  },
  "operations": {
    "OrderCancelled_send_handleOrderCompletedEvent": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/OrderCancelled"
      },
      "title": "OrderCancelled_send",
      "description": "Order Cancelled Event",
      "bindings": {
        "kafka": {
          "bindingVersion": "0.5.0"
        }
      },
      "messages": [
        {
          "$ref": "#/channels/OrderCancelled/messages/OrderCancelled"
        }
      ]
    },
    "OrderRejected_send_handleOrderRejectedEvent": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/OrderRejected"
      },
      "title": "OrderRejected_send",
      "description": "Order Rejected Event",
      "bindings": {
        "kafka": {
          "bindingVersion": "0.5.0"
        }
      },
      "messages": [
        {
          "$ref": "#/channels/OrderRejected/messages/OrderRejected"
        }
      ]
    }
  }
}
