type Query {
    validateDevice(deviceId: String!, location: String!): Boolean
    validateUnit(unitNumber: String!, location: String!): [Inventory]
    readConfiguration(keys: [String]): [ConfigurationDTO]
    checkDigit(unitNumber: String!, checkDigit: String!): CheckDigitResponseDTO!
    validateLotNumber(lotNumber: String!, type: String!): Boolean
    validateDeviceOnCloseBatch(deviceId: String!, location: String!): [BatchProduct]
}

type Mutation {
    submitBatch(input: SubmitBatchInput!): BatchSubmissionResult!
    completeBatch(input: CompleteBatchInput!): BatchSubmissionResult!
}

type Inventory {
    unitNumber: String
    productCode: String
    location: String
    status: String
    productDescription: String
    productFamily: String
    statusReason: String
    unsuitableReason: String
    expired: Boolean
    alreadyIrradiated: Boolean
    isBeingIrradiated: Boolean
    notConfigurableForIrradiation: Boolean
    quarantines: [InventoryQuarantine]
}

type ConfigurationDTO {
    key: String
    value: String
}

type InventoryQuarantine {
    reason: String!,
    comments: String,
    stopsManufacturing: Boolean
}

input SubmitBatchInput {
    deviceId: String!
    startTime: String!
    batchItems: [BatchItemInput!]!
}

input BatchItemInput {
    unitNumber: String!
    productCode: String!
    lotNumber: String!
}

input CompleteBatchInput {
    deviceId: String!
    endTime: String!
    batchItems: [BatchItemCompletionInput!]!
}

input BatchItemCompletionInput {
    unitNumber: String!
    productCode: String!
    isIrradiated: Boolean!
}

type BatchSubmissionResult {
    batchId: ID!
    message: String!
    success: Boolean!
}

type CheckDigitResponseDTO {
    isValid: Boolean
}

type BatchProduct {
    unitNumber: String
    productCode: String
    productFamily: String
    productDescription: String
    status: String
    quarantines: [InventoryQuarantine]
}
