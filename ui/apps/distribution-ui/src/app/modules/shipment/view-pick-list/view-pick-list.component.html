<div class="modal-body-width">
  <div class="flex flex-row gap-2 justify-end items-center mb-2">
    <button title="{{ 'print.label' | translate }}" (click)="print()" mat-icon-button>
      <mat-icon [svgIcon]="'hi_outline:printer'"></mat-icon>
    </button>
    <button
      title="{{ 'close.label' | translate }}"
      class="treo-message-dismiss-button"
      mat-icon-button
      mat-dialog-close
    >
      <mat-icon [svgIcon]="'hi_outline:x'"></mat-icon>
    </button>
  </div>

  <div id="viewPickListReport" class="py-0 px-5">
    <div class="text-gray-700 flex flex-col gap-4" *ngIf="model$ | async as orderFulfilledMessage" style="font-family: serif;">
      <table id="pageHeader" class="table-fixed border-separate w-full">
        <tbody>
        <tr>
          <td class="text-4xl font-bold border-b border-black text-center">
            {{ 'pick-list.label' | translate }}
          </td>
        </tr>
        </tbody>
      </table>

      <table id="pickListTable" class="table-fixed border-separate w-full">
        <thead>
          <tr class="bg-gray-200">
            <th class="border-b-2 border-gray-400">{{ 'order-number.label' | translate }}</th>
            <th class="border-b-2 border-gray-400">{{ 'customer-id.label' | translate }}</th>
            <th class="border-b-2 border-gray-400">{{ 'customer-name.label' | translate }}</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td class="text-center">{{ orderFulfilledMessage.orderNumber }}</td>
            <td class="text-center">{{ orderFulfilledMessage.shippingCustomerCode }}</td>
            <td class="text-center">{{ orderFulfilledMessage.shippingCustomerName }}</td>
          </tr>
        </tbody>
      </table>

      <div class="text-3xl mt-5 mb-2 p-0 border-b border-black">
        {{ 'product-details.label' | translate }}
      </div>
      <table id="productDetailsTable" class="table-fixed border-separate w-full">
        <thead>
          <tr class="bg-gray-200">
            <th class="border-b-2 border-gray-400">{{ 'quantity.label' | translate }}</th>
            <th class="border-b-2 border-gray-400">{{ 'product.label' | translate }}</th>
            <th class="border-b-2 border-gray-400">{{ 'blood-type.label' | translate }}</th>
            <th class="border-b-2 border-gray-400">{{ 'comments.label' | translate }}</th>
          </tr>
        </thead>

        <tbody *ngIf="orderFulfilledMessage.items?.length">
          <tr *ngFor="let orderItemFulfilledMessage of orderFulfilledMessage.items">
            <td class="text-center">{{ orderItemFulfilledMessage.quantity }}</td>
            <td class="text-center">{{ orderItemFulfilledMessage.productFamily }}</td>
            <td class="text-center">{{ orderItemFulfilledMessage.bloodType }}</td>
            <td class="text-center">{{ orderItemFulfilledMessage.comments }}</td>
          </tr>
        </tbody>
      </table>

      <div class="text-3xl mt-5 mb-2 p-0 border-b border-black">
        {{ 'short-date-details.label' | translate }}
      </div>
      <table
        id="shortDateDetailsTable"
        class="table-fixed border-separate w-full"
        *ngIf="hasAnyShortDate(orderFulfilledMessage); else shortDateDetailsEmptyMessage"
      >
        <thead>
          <tr class="bg-gray-200">
            <th class="border-b-2 border-gray-400">{{ 'unit-number.label' | translate }}</th>
            <th class="border-b-2 border-gray-400">{{ 'product-code.label' | translate }}</th>
            <th class="border-b-2 border-gray-400">{{ 'blood-type.label' | translate }}</th>
          </tr>
        </thead>

        <tbody *ngFor="let orderItemFulfilledMessage of orderFulfilledMessage.items">
          <tr *ngFor="let shortDateProduct of orderItemFulfilledMessage.shortDateProducts">
            <td class="text-center">{{ shortDateProduct.unitNumber }}</td>
            <td class="text-center">{{ shortDateProduct.productCode }}</td>
            <td class="text-center">{{ orderItemFulfilledMessage.bloodType }}</td>
          </tr>
        </tbody>
      </table>
      <ng-template #shortDateDetailsEmptyMessage>
        <div id="shortDateDetailsEmpty">
          {{ 'no-suggested-short-dated-products-message.label' | translate }}
        </div>
      </ng-template>
    </div>
  </div>
</div>
