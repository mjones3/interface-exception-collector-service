<div class="flex">
    <div class="gt-xs:items-baseline flex w-full" [formGroup]="form">
        <!-- Label -->
        <label
            [for]="inputId"
            class="mr-4 font-bold"
            *ngIf="labelTitle"
            [ngClass]="[labelWidth || '']"
            >{{ labelTitle }}</label
        >

        <!-- Input Section Wrapper -->
        <div class="flex h-full flex-1 flex-col">
            <div class="flex flex-col">
                <div class="flex h-full flex-1">
                    <div
                        class="relative flex h-full flex-col"
                        [ngClass]="[inputWidth ? inputWidth : 'w-full']"
                    >
                        <!-- Input -->
                        <mat-form-field
                            class="fuse-mat-no-subscript flex-auto"
                            [class.highlight]="!!highlightField"
                            [ngClass]="[inputWidth]"
                            rsaControlErrorContainer
                        >
                            <input
                                *ngIf="inputType === inputTypeEnum.TEXT"
                                matInput
                                formControlName="input"
                                rsaMaskRegex
                                [id]="inputId"
                                [placeholder]="placeholder"
                                [autocomplete]="allowAutocomplete"
                                [tabindex]="tabindex"
                                [allowedCharsRegex]="regex"
                                [class]="{ 'input-uppercase': upperCase }"
                                [customErrors]="customErrors"
                                [attr.maxLength]="maxLength ? maxLength : null"
                                [(rsaAutoFocusIf)]="inputFocus"
                                (keydown.Tab)="onTabEnterPressed()"
                                (keydown.Enter)="onEnter($event)"
                                (keyup)="onKeyUp($event)"
                                (blur)="onBlur()"
                                #inputField
                            />

                            <!-- Text Area -->
                            <textarea
                                *ngIf="inputType === inputTypeEnum.TEXTAREA"
                                matInput
                                formControlName="input"
                                [id]="inputId"
                                [rows]="textareaRows"
                                [maxLength]="maxLength"
                                [placeholder]="placeholder"
                                [tabindex]="tabindex"
                                [customErrors]="customErrors"
                                [class]="{ 'input-uppercase': upperCase }"
                                [(rsaAutoFocusIf)]="inputFocus"
                                (keydown.Tab)="onTabEnterPressed()"
                                (keydown.Enter)="onEnter($event)"
                                (blur)="onBlur()"
                                #inputField
                            ></textarea>
                            <ng-template
                                [ngTemplateOutlet]="suffixTemplateRef"
                            ></ng-template>
                            <mat-icon
                                *ngIf="iconName"
                                matSuffix
                                [svgIcon]="iconName"
                            ></mat-icon>
                        </mat-form-field>
                    </div>
                </div>

                <!-- Characters Counter -->
                <mat-hint
                    [ngClass]="[inputWidth ? inputWidth : 'mr-12']"
                    class="text-right"
                    *ngIf="inputType === inputTypeEnum.TEXTAREA && maxLength"
                >
                    {{ form.controls['input'].value?.trim().length }} /
                    {{ maxLength }}
                </mat-hint>
            </div>
        </div>
    </div>
</div>
