<!-- Button -->
<button class="icon-button" mat-icon-button [matMenuTriggerFor]="userActions">
    <span class="avatar">
        @if(showAvatar && user?.avatar){
            <img [src]="user?.avatar" />
        }
        @if(!showAvatar || !user?.avatar){
            <mat-icon [svgIcon]="'account_circle'"></mat-icon>
        }
      <span class="status" [ngClass]="user?.status"></span>
    </span>
  </button>
  
  <mat-menu class="user-actions-menu" [xPosition]="'before'" #userActions="matMenu">
    <button mat-menu-item>
      <span class="user-info">
        <span> Signed in as </span>
        <span class="email">{{ user?.name }}</span>
      </span>
    </button>
    <mat-divider class="my-2"></mat-divider>
    <button mat-menu-item (click)="signOut()">
      <mat-icon [svgIcon]="'power_settings_new'"></mat-icon>
      <span>Sign out</span>
    </button>
  </mat-menu>
  