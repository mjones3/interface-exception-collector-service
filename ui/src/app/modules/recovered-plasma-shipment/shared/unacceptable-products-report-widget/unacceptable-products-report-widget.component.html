<div class="flex flex-col">
    <rsa-common-widget
        [title]="'Unacceptable Products Report'"
        [templateRef]="reportInfoTpl"
    >
        <ng-template #reportInfoTpl>
            @if(loading()) {
                <div class="flex flex-col gap-2" id="loading-spinner">
                    <biopro-loading-spinner [textLabel]="loaderMessage" />
                </div>
            } @else {
                <div class="flex flex-col gap-2">
                    <rsa-description-card
                        id="unsuitableReportInfoDescriptions"
                        [descriptions]="unsuitableReportInfo()"
                    />
                    @if (['COMPLETED_FAILED', 'COMPLETED'].includes(shipment()?.unsuitableUnitReportDocumentStatus)) {
                    <div class="flex flex-1 justify-center">
                        <biopro-action-button
                            id="reportBtn"
                            btnId="reportBtnId"
                            label="Report"
                            color="secondary"
                            icon="heroicons_outline:document-arrow-down"
                            (clickEvent)="viewReport()"
                        />
                    </div>
                    }
                </div>
            }
        </ng-template>
    </rsa-common-widget>
</div>
