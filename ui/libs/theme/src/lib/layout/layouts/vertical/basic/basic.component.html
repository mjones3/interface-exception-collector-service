<!-- Navigation -->
<treo-vertical-navigation
  [appearance]="'classic'"
  [mode]="isScreenSmall ? 'over' : 'side'"
  [name]="'mainNavigation'"
  [navigation]="data.navigation"
  [opened]="!isScreenSmall"
  #treoVerticalNavigation="treoVerticalNavigation"
  #teoTest
>
  <div treoVerticalNavigationHeader>
    <div>
      <img
        id="companyLogo"
        class="my-6 mx-auto cursor-pointer"
        [routerLink]="'/home'"
        style="width: 180px !important"
        src="assets/images/logo/Logo-ARC-One.png"
        alt="Arc-One Logo"
      />
    </div>
    <h5 class="module-title text-center uppercase mt-8 mb-4">{{ moduleTitle | translate }}</h5>
  </div>
</treo-vertical-navigation>

<!-- Wrapper -->
<div class="wrapper" [ngStyle]="{ width: treoVerticalNavigation.opened ? calcContentWidth : '100%' }">
  <!-- Header -->
  <div class="header fixed" [ngStyle]="{ width: treoVerticalNavigation.opened ? calcContentWidth : '100%' }">
    <!-- Navigation toggle button -->
    <button class="navigation-toggle-button" mat-icon-button (click)="toggleNavigation('mainNavigation')">
      <mat-icon [svgIcon]="'menu'"></mat-icon>
    </button>

    <!-- Top Bar Menu -->
    <img id="defaultLogo" style="width: 150px !important; margin-left: 10px" [src]="defaultLogo" />

    <!-- Spacer -->
    <div class="spacer"></div>

    <!-- Location -->
    <h4
      class="text-3xl font-bold px-8 mb-8 text-gray-600"
      [class.cursor-pointer]="isHomePage()"
      [matTooltip]="getChangeFacilityTooltip()"
    >
      <span (click)="changeFacility()">{{ (facilityService.facility$ | async)?.name }}</span>
    </h4>

    <!-- Shortcuts -->
    <rsa-default-shortcuts [shortcuts]="data?.shortcuts"></rsa-default-shortcuts>

    <!-- User -->
    <rsa-default-user [user]="data?.user"></rsa-default-user>
  </div>

  <!-- Content -->
  <div class="content mb-6 pb-8 relative">
    <!-- *ngIf="true" hack is required here for router-outlet to work correctly. Otherwise,
         it won't register the changes on the layout and won't update the view. -->
    <router-outlet *ngIf="true"></router-outlet>
  </div>

  <!-- Footer -->
  <div
    class="footer flex justify-between mt-4 fixed bottom-0"
    [ngStyle]="{ width: treoVerticalNavigation.opened ? calcContentWidth : '100%' }"
  >
    <div id="copyright">
      ARC-One Solutions &copy; {{ releaseNumber }}
      <div
        matTooltip="open-version-details.label"
        (click)="goToBuildDetails()"
        style="cursor: pointer"
        *ngIf="processProductVersion"
      >
        Build Version: {{ processProductVersion.buildVersion }}
      </div>
    </div>
    <span style="color: red; padding: 40px">{{ investigationalDevice }}</span>
    <div #footerDateTime id="footer-date-time" class="txt-time watch-position"></div>
  </div>
</div>
