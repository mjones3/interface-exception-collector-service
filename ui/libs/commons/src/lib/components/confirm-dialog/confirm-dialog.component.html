<rsa-common-modal-template
  [title]="title | translate"
  [cancelTitle]="cancelTitle | translate"
  [acceptTitle]="acceptTitle | translate"
  [dialogContentAlign]="'text-left'"
  (acceptSelection)="confirm()"
>
  <div class="flex flex-col p-6">
    <ng-container *ngIf="confirmMessageTpl; else defaultMessageLayout"></ng-container>
    <ng-template #defaultMessageLayout>
      <div class="flex flex-row justify-start">{{ confirmMessage | translate }}</div>
    </ng-template>
  </div>
  <div class="flex w-full px-6 items-baseline" [formGroup]="confirmGroup" *ngIf="enableComment">
    <div class="flex flex-col flex-auto mt-2 mb-8">
      <mat-form-field class="w-full" rsaControlErrorContainer>
        <mat-label class="text-bold">{{ commentLabel | translate }}</mat-label>
        <textarea
          id="confirmCommentTextArea"
          formControlName="comment"
          matInput
          [required]="isRequiredComment"
          [maxlength]="maxCharacters"
          [attr.rows]="commentInputRows"
          validateOn="touchedState"
          autocomplete="off"
          [customErrors]="{
            required: commentLabel | validation: validationType.REQUIRED,
            whiteSpace: commentLabel | validation: validationType.REQUIRED
          }"
        ></textarea>
      </mat-form-field>
      <div class="text-right pr-3">
        {{ confirmGroup.get('comment')?.value?.trim()?.length || 0 }}/{{ maxCharacters }}
      </div>
    </div>
  </div>
</rsa-common-modal-template>
