<treo-card class="w-full flex flex-col border-top-left-5 border-top-right-5">
  <!-- Card Title -->
  <div class="treo-card-title" [ngClass]="titleClass">
    <div class="flex justify-between items-center">
      <div *ngIf="!titleRef">
        <div class="font-bold text-md text-secondary tracking-wider" [ngClass]="titleTextClass">
          {{ title | translate }}
        </div>
        <div class="font-medium uppercase text-sm" [ngClass]="subTitleTextClass">{{ subTitle | translate }}</div>
      </div>
      <ng-template *ngIf="titleRef" [ngTemplateOutlet]="titleRef"> </ng-template>
      <mat-icon
        *ngIf="hasMenu"
        [matMenuTriggerFor]="matResultsMenu"
        [svgIcon]="'hi_outline:dots-vertical'"
        class="cursor-pointer"
      ></mat-icon>
      <p *ngIf="rightCornerInfo">
        <span class="font-medium mr-4">{{ rightCornerInfo.label | translate }}</span> {{ rightCornerInfo.value }}
      </p>
    </div>
    <mat-menu #matResultsMenu="matMenu">
      <div *ngIf="!subMenu">
        <button mat-menu-item *ngFor="let menu of menus" (click)="menu.click()">
          <mat-icon *ngIf="menu.icon" [svgIcon]="menu.icon"></mat-icon>
          <span>{{ menu.label | translate }}</span>
        </button>
      </div>
      <div *ngIf="subMenu">
        <ng-container *ngFor="let menu of menus">
          <button
            *ngIf="menu.subMenu"
            mat-menu-item
            [matMenuTriggerFor]="subMenu"
            (click)="menu.click()"
            [disabled]="menu.disabled"
          >
            <mat-icon *ngIf="menu.icon" [svgIcon]="menu.icon"></mat-icon>
            <span>{{ menu.label | translate }}</span>
          </button>
          <button *ngIf="!menu.subMenu" mat-menu-item (click)="menu.click()" [disabled]="menu.disabled">
            <mat-icon *ngIf="menu.icon" [svgIcon]="menu.icon"></mat-icon>
            <span>{{ menu.label | translate }}</span>
          </button>
          <mat-menu #subMenu="matMenu">
            <ng-container *ngIf="menu.subMenu">
              <button *ngFor="let subMenu of menu.subMenu" mat-menu-item (click)="subMenu.click()">
                <mat-icon *ngIf="subMenu.icon" [svgIcon]="subMenu.icon"></mat-icon>
                <span>{{ subMenu.label | translate }}</span>
              </button>
            </ng-container>
          </mat-menu>
        </ng-container>
      </div>
    </mat-menu>
  </div>
  <mat-divider *ngIf="hasTitleDivider" class="mb-4"></mat-divider>
  <div class="w-full px-5 pb-6" [ngClass]="bodyClass">
    <table class="table-auto" *ngIf="!templateRef">
      <tr *ngFor="let data of infoData">
        <td [ngClass]="leftInfoTextContainer" class="font-bold">
          {{ data.descriptionKey | translate }}
        </td>
        <td class="pl-10" [ngClass]="rightInfoTextContainer">
          {{ data.value?.toString() | translate | uppercase }}
        </td>
        <td *ngIf="data.action" [attr.disabled]="data.action.disabled ? true : null">
          <span>
            <mat-icon
              [svgIcon]="data.action.icon"
              (click)="data.action.click()"
              [ngClass]="{ 'cursor-pointer': !data.action.disabled }"
            ></mat-icon>
          </span>
        </td>
      </tr>
    </table>
    <ng-template *ngIf="templateRef" [ngTemplateOutlet]="templateRef"></ng-template>
  </div>
</treo-card>
