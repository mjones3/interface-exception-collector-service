<div id="confirmationModalWrapper" [ngClass]="dialogClasses">
  <!-- Header Section -->
  <div class="flex justify-between items-center mb-4">
    <h2 [id]="'confirmationModalTitle'" mat-dialog-title class="m-0">{{ dialogTitle | translate }}</h2>
    <button id="confirmationModalCloseBtn" class="treo-message-dismiss-button" mat-icon-button mat-dialog-close>
      <mat-icon [svgIcon]="'hi_outline:x'"></mat-icon>
    </button>
  </div>

  <!-- Content Section -->
  <mat-dialog-content class="mat-typography border text-center p-0" [ngClass]="contentClasses">
    <!-- Custom Confirmation Template -->
    <ng-container *ngIf="contentTemplate">
      <ng-template [ngTemplateOutlet]="contentTemplate"> </ng-template>
    </ng-container>

    <!-- Standard Confirmation -->
    <ng-container *ngIf="!commentsModal && !contentTemplate">
      <div class="icon-wrapper flex items-center justify-center p-8" *ngIf="iconName">
        <mat-icon class="icon-size-96" [svgIcon]="iconName"></mat-icon>
      </div>
      <div class="p-8" [innerHtml]="dialogText | translate"></div>
    </ng-container>

    <!-- Confirmation with Comments -->
    <ng-container *ngIf="commentsModal">
      <ng-content></ng-content>
      <div class="flex w-full p-8 items-baseline" [formGroup]="confirmationForm">
        <label class="mr-4 font-bold">{{ commentsLabel | translate }}</label>
        <div class="flex flex-col w-full text-left">
          <rsa-input-keyboard
            formControlName="comment"
            [inputId]="'commentsConfirmationInput'"
            [customErrors]="{ whiteSpace: commentsLabel | validation: validationType.REQUIRED }"
            [maxLength]="commentsMaxLength"
            [inputType]="inputType.TEXTAREA"
            [closeOnReturn]="false"
          ></rsa-input-keyboard>
        </div>
      </div>
    </ng-container>
  </mat-dialog-content>

  <!-- Actions Buttons Section -->
  <mat-dialog-actions class="flex justify-end w-full p-0 mt-4 mb-2" *ngIf="showAction">
    <button
      *ngIf="showCancelButton"
      id="cancelModalBtn"
      class="action-button"
      mat-raised-button
      [mat-dialog-close]="false"
    >
      <mat-icon [svgIcon]="'rsa:cancel-sec'" class="product-icon"></mat-icon>
      <span class="ml-2 px-4">{{ cancelBtnTittle | translate }}</span>
    </button>
    <button
      id="acceptModalBtn"
      class="action-button"
      mat-raised-button
      [disabled]="commentsModal ? !confirmationForm.valid : false"
      [mat-dialog-close]="commentsModal ? { comment: confirmationForm.controls['comment'].value?.trim() } : true"
    >
      <mat-icon [svgIcon]="'rsa:submit-sec'" class="product-icon"></mat-icon>
      <span class="ml-2 px-4">{{ acceptBtnTittle | translate }}</span>
    </button>
  </mat-dialog-actions>
</div>
